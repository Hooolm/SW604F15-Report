%!TEX root = ../../../super_main.tex

\section{Reengineering of Application Grid}
\label{sec:reengineering_of_application_grid}

When the launcher of the \giraf system is being used, and the user presses the drawer on the left-hand side (see \figrefpage{fig:missing_apps}), the application container becomes smaller as a result of the drawer moving on the screen. The resulting smaller area has to be repopulated with icons, since the icons no longer have proper placements. Furthermore the application window currently has a fixed size, while the user is able to select as many applications as he/she wants. This means that if too many applications are chosen, they will surpass the size of the window, and therefore be pushed out of the window. The applications are currently being placed in the launcher by using \androidinline{LinearLayout}s placed in rows, which then individually contain an amount of icons respective to the icon size. The computation of how many rows are needed, the location of all icons, etc., has a serious effect on performance and smoothness of the launcher. 
\\\\
The application grid has a setting in the settings menu which allows the user to configure the icon size of the applications shown in the launcher. The icon size is adjusted by pulling the \androidinline{SeekBar} (slider). This settings menu can be seen in \figref{fig:preference_screen_old}.

\begin{figure}[!htbp]
    \centering
    \includegraphics[width=\textwidth]{sprint_one/reengineering_of_application_grid/preference_screen_old}
    \caption{Old preference screen}
    \label{fig:preference_screen_old}
\end{figure}.

The \androidinline{LinearLayout} views that are created fit as many icons of the given size inside as possible, while staying within the width of the screen. This is some ``hack'' method that has been implemented in order to allow users to manually change how many icons they want to see in the launcher. This solution is bad, because instead of changing the actual amount of icons on the screen, the items are just scaled down so more of them can fit on the screen with no indication of how many icons you will now see.

\subsection{Solution}
\label{sub:reengineering_of_application_grid_solution}
The creation of \androidinline{LinearLayout} views gives the user a poor experience when interacting with the application, and we would therefore like to improve the launcher application such that it uses a \androidinline{ViewPager} which contains a \androidinline{Grid} structure instead. A \androidinline{Grid} view is preferable over a rows of \androidinline{LinearLayout} views since it is easier to build and populate with icons, which should result in increased performance. A \androidinline{ViewPager} is the standard way of allowing the user to page between screens of applications in other launcher activities, which is desirable since it gives the user a consistent experience with devices they usually use. 
\\\\
The functionality in the settings menu that allowed users to change the size of icons has been replaced with the possibility of changing the launcher grid size. The icon preview in the settings menu now shows an example grid instead. The new setting allows the user to change the size of the grid directly, instead of using the aforementioned indirect icon-resize method. The new settings menu can be seen in \figref{fig:preference_screen_new}.

\begin{figure}[!htbp]
    \centering
    \includegraphics[width=\textwidth]{sprint_one/reengineering_of_application_grid/preference_screen_new}
    \caption{New preference screen}
    \label{fig:preference_screen_new}
\end{figure}.